<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net9.0</TargetFramework>
    <LangVersion>latest</LangVersion>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>

    <!-- This is the test host executable that runs tests with Thread 1 control -->
    <AssemblyName>SWTSharp.TestHost</AssemblyName>

    <!-- Disable xUnit's auto-generated entry point -->
    <GenerateProgramFile>false</GenerateProgramFile>

    <!-- Use our Program.Main as entry point -->
    <StartupObject>SWTSharp.TestHost.Program</StartupObject>

    <!-- Disable specific xUnit analyzer rule that requires MarshalByRefObject -->
    <NoWarn>xUnit3000</NoWarn>
  </PropertyGroup>

  <ItemGroup>
    <!-- xUnit v2 for running tests (must match TestAdapter and Tests versions) -->
    <PackageReference Include="xunit.abstractions" Version="2.0.3" />
    <PackageReference Include="xunit.runner.utility" Version="2.9.2" />
    <PackageReference Include="xunit.extensibility.execution" Version="2.9.2" />
  </ItemGroup>

  <ItemGroup>
    <!-- Reference to main SWTSharp library for MainThreadDispatcher -->
    <ProjectReference Include="..\..\src\SWTSharp\SWTSharp.csproj" />
  </ItemGroup>

</Project>
